<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>AminGPT Chat</title>
<style>
body {
  margin:0;
  font-family:"IRANSans", sans-serif;
  background:#0e0e0e;
  color:white;
}

.header {
  background:#1f1f1f;
  padding:15px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
  box-shadow: 0 0 10px black;
}

#chatBox {
  height:75vh;
  overflow-y:auto;
  padding:20px;
}

.msg {
  padding:12px;
  margin:10px 0;
  border-radius:10px;
  max-width:70%;
  word-wrap: break-word;
}

.me {
  background:#6a5acd;
  margin-left:auto;
  text-align:right;
}

.bot {
  background:#222;
  margin-right:auto;
  text-align:left;
}

.footer {
  position:fixed;
  bottom:0;
  width:100%;
  display:flex;
  padding:10px;
  background:#1a1a1a;
}

#msg {
  flex:1;
  padding:12px;
  border-radius:10px;
  border:none;
  outline:none;
}

button {
  padding:12px 20px;
  margin-left:10px;
  background:#6a5acd;
  border:none;
  border-radius:10px;
  color:white;
  cursor:pointer;
}
</style>
</head>
<body>

<div class="header">ğŸ¤– AminGPT</div>

<div id="chatBox"></div>

<div class="footer">
  <input id="msg" placeholder="Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...">
  <button onclick="send()">Ø§Ø±Ø³Ø§Ù„</button>
</div>

<script>
async function send() {
  const input = document.getElementById("msg");
  const text = input.value;
  if (!text) return;

  const chatBox = document.getElementById("chatBox");

  // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø±
  chatBox.innerHTML += `<div class="msg me">${text}</div>`;
  input.value = "";

  // Scroll Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†
  chatBox.scrollTop = chatBox.scrollHeight;

  try {
    const res = await fetch("https://YOUR_HF_SPACE_URL/run/predict", {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({"data":[text]})
    });

    const data = await res.json();
    const reply = data.data[0];

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù¾Ø§Ø³Ø® ÙÙ‚Ø· ÛŒÚ© Ø¨Ø§Ø±
    chatBox.innerHTML += `<div class="msg bot">${reply}</div>`;
    chatBox.scrollTop = chatBox.scrollHeight;

  } catch (err) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…:", err);
  }
}
</script>

</body>
</html>
