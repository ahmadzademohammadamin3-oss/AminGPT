async function send() {
  const input = document.getElementById("msg");
  const text = input.value;
  if (!text) return;

  const chatBox = document.getElementById("chatBox");
  chatBox.innerHTML += `<div class="msg me">${text}</div>`;
  input.value = "";

  try {
    const res = await fetch("https://YOUR_HF_SPACE_URL/run/predict", {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({"data":[text]})
    });
    const data = await res.json();
    const reply = data.data[0];

    chatBox.innerHTML += `<div class="msg bot">${reply}</div>`;
    chatBox.scrollTop = chatBox.scrollHeight;

  } catch (err) {
    console.error("خطا در ارسال پیام:", err);
  }
}
